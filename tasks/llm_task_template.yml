s3:
  bucket: eirepolitic-data
  region: ca-central-1
  input_key: raw/members/oireachtas_members_34th_dail.csv
  output_csv_key: processed/members/members_summaries.csv
  output_parquet_key: processed/members/parquets/members_summaries.parquet

columns:
  keep: ["member_code", "full_name"]
  id: "member_code"
  # Only used if id is missing:
  id_hash_cols: ["full_name"]

  # Up to 5 vars available in the prompt as {var1}..{var5}
  vars:
    - full_name
    - member_code

  output_col: background

prompt_template: |
  Use web search to write a politically neutral, factual background summary (MAX 200 words) of the Irish politician "{var1}".

  Include, if available:
  - Where they grew up (town/county/region).
  - What they worked as before becoming a politician.
  - Their political history before 2025 (roles, elections, positions held).

  Rules:
  - Neutral, factual tone.
  - If a detail cannot be verified reliably, omit it rather than guessing.
  - Do NOT include citations, links, or source lists.

llm:
  model: gpt-4.1-mini
  use_web_search: true
  strip_citations: true
  reasoning_effort: low
  verbosity: low
  # Only used for non-gpt-5; omit to default determinism in no-tools mode
  temperature:
  max_output_tokens: 320

run:
  test_rows: 0
  autosave_interval: 25
  delay_between_requests: 0.25
  max_retries: 5

# full_table writes all rows; processed_only writes only rows processed in this run
write_mode: full_table

validation:
  require_non_empty: true
  max_words: 200
  regex_must_match:
